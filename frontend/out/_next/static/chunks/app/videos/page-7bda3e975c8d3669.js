(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{1538:function(e,t,o){Promise.resolve().then(o.bind(o,2134))},8783:function(e,t,o){"use strict";o.d(t,{Z:function(){return s}});var c=o(7437),n=o(7908),a=o(2265),i=o(2841);function s(e){let{userId:t}=e,[o,s]=(0,a.useState)([]);return((0,a.useEffect)(()=>{(async()=>{await n.Z.get("http://localhost:8080/videos/favourites/".concat(t)).then(e=>{console.log(e),s(e.data.favourites)}).catch(e=>console.error(e))})()},[t]),o)?(0,c.jsxs)("div",{className:"favourites-container",children:[(0,c.jsx)("h2",{children:"Favourite Videos"}),(0,c.jsx)("ul",{children:o.map(e=>(0,c.jsx)(i.Z,{videoId:e,userId:t,visible:!0,removeFavouriteDisplay:()=>{s(o.filter(t=>t!==e))}},e))})]}):(0,c.jsx)("div",{children:"No favourite videos"})}},2841:function(e,t,o){"use strict";o.d(t,{Z:function(){return i}});var c=o(7437);o(3196);var n=o(7908),a=o(2265);function i(e){let{videoId:t,userId:o,visible:i=!0,removeFavouriteDisplay:s}=e,[r,l]=(0,a.useState)(!1);async function u(){r?await n.Z.delete("http://localhost:8080/videos/favourites/".concat(o,"/").concat(t)).then(e=>{s(),l(!1)}).catch(e=>console.error(e)):await n.Z.post("http://localhost:8080/videos/favourites/".concat(o),{videoId:t}).then(e=>{l(!1)}).catch(e=>console.error(e))}return((0,a.useEffect)(()=>{(async()=>{await n.Z.get("http://localhost:8080/videos/favourites/".concat(o,"/").concat(t,"/checkFavourite")).then(e=>{console.log(e.data),l(e.data.checkFavourite)}).catch(e=>console.error(e))})()},[t,o]),i)?(0,c.jsxs)("div",{className:"videoplayer-container",children:[(0,c.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(t),allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video"}),(0,c.jsx)("button",{onClick:u,children:r?"Remove from Favourites":"Click to Favourite"})]}):null}},2134:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return s}});var c=o(7437);o(8783);var n=o(2841);o(2167);var a=o(2265);function i(e){let{location:t,userId:o}=e,[i,s]=(0,a.useState)([]);return((0,a.useEffect)(()=>{(async()=>{try{let e="".concat(t," places"),o=await fetch("http://localhost:8080/videos?q=".concat(e),{cache:"no-cache"}),c=await o.json();s(c)}catch(e){console.log(e)}})()},[t]),i)?(0,c.jsx)("div",{className:"videolist-container",children:i.map(e=>(0,c.jsx)(n.Z,{videoId:e,userId:o},e))}):(0,c.jsx)("div",{children:"No videos found for location"})}function s(){let[e,t]=(0,a.useState)(""),[o,n]=(0,a.useState)(""),s="65fa73b955410eecb776f5b1";return(0,c.jsxs)("div",{children:[(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({checkSubmit:!0})},children:[(0,c.jsx)("label",{htmlFor:"location",children:"Enter City: "}),(0,c.jsx)("input",{type:"text",id:"location",value:e,placeholder:"Enter a Location",onChange:function(e){t(e.target.value)}}),(0,c.jsx)("button",{type:"submit",children:"Search"})]}),o.checkSubmit&&(0,c.jsx)(i,{location:e,userId:s}),(0,c.jsx)("a",{href:"/videos/favourites?userId=".concat(s),children:"Favourites Page"})]})}},2167:function(){},3196:function(){}},function(e){e.O(0,[908,971,69,744],function(){return e(e.s=1538)}),_N_E=e.O()}]);